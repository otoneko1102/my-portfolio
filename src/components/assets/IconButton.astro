---
import Icon from "./Icon.astro";

interface Props {
  img: string;
  alt?: string;
  iconWidth?: string | number;
  iconHeight?: string | number;
  label?: string;
  title?: string;
  class?: string;
  disabled?: boolean;
  type?: "button" | "submit" | "reset";
}

const {
  img,
  alt = "icon",
  iconWidth = "20",
  iconHeight = "20",
  label,
  title,
  class: className = "",
  disabled = false,
  type = "button",
} = Astro.props as Props;
---

<button
  type={type}
  class={`icon-button ${className}`}
  disabled={disabled}
  title={title}
>
  <Icon img={img} alt={alt} width={iconWidth} height={iconHeight} />
  {label && <span>{label}</span>}
</button>

<style>
  .icon-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background-color: transparent;
    border: 1px solid var(--color-icon-btn-border);
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.2s ease;
  }

  .icon-button:hover:not(:disabled) {
    background-color: var(--color-icon-btn-hover);
    border-color: var(--color-icon-btn-border);
  }

  .icon-button:active:not(:disabled) {
    background-color: var(--color-icon-btn-active);
  }

  .icon-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button span {
    display: inline;
  }
</style>
